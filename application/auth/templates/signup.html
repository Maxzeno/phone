{% extends 'base_auth.html'%}

{% import "bootstrap/wtf.html" as wtf %}

{% block title %}Signup{% endblock %}

{% block body %} 

<div class="">
<div class="row pt-3">
  <div class="col-md-10 col-lg-6 mx-auto">

    <div class="h2 border-bottom pb-3">Signup</div>

    <div class="mt-4">
      {% with messages = get_flashed_messages() %}
      {% if messages %}
          <div class="alert alert-danger" role="alert">
          {{ messages[0] }}
          </div><br>
      {% endif %}
      {% endwith %}
    </div>

    <div class="container-fluid border rounded shadow-sm bg-white py-3">


      <form action="/signup" method="post">

        {{ form.hidden_tag() }}
        {{ wtf.form_field(form.email) }}
        {{ wtf.form_field(form.first_name) }}
        {{ wtf.form_field(form.last_name) }}
        {{ wtf.form_field(form.phone_number) }}
        {{ wtf.form_field(form.password) }}

              
        <!-- <div class="text-muted mb-2">By signing up you agree to our terms of service <a href="#">learn more</a></div> -->
        <div class="mb-2">
          <button class="btn btn-danger" id="subBtn" type="submit">Sign up</button>
        </div>
    </form>
        
    </div>
  </div>
</div>
</div>


{% endblock %}


{% block script %}


<script type="text/javascript">

function passwordRange() {
    password = document.getElementById('password');
    password_error = document.getElementById('password_error');
    
    if (password.value.length < 8){
    password_error.style.display = 'block';

    }else if (password.value.length > 50){
    password_error.style.display = 'block';
    
    }else{
        password_error.style.display = 'none'
    }
}



    document.querySelectorAll('.form-group')[2].innerHTML += '<span class="text-danger" id="password_error" style="display: none;">Password should be between 8 and 50 characters</span>';

    document.getElementById('email').setAttribute('placeholder', 'Email address');
    document.getElementById('first_name').setAttribute('placeholder', 'Your Firstame');
    document.getElementById('last_name').setAttribute('placeholder', 'Your Lastname');
    document.getElementById('phone_number').setAttribute('placeholder', 'Phone number');
    document.getElementById('password').setAttribute('placeholder', 'Password');
    document.getElementById('password').setAttribute('onkeyup', 'passwordRange()');
    document.querySelectorAll('label').forEach(v => 
        v.setAttribute('class', 'fs-5')
    );



</script>

{% endblock %}








